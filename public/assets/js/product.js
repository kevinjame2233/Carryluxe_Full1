document.addEventListener('DOMContentLoaded', async ()=>{const params=new URLSearchParams(window.location.search);const id=params.get('id');if(!id) return document.getElementById('product-detail').innerText='Product not found';const res=await fetch('/api/products/'+id);const p=await res.json();const container=document.getElementById('product-detail');container.innerHTML=`<h2>${p.name}</h2><div class="gallery">${p.images.map(i=>`<img src="${i}" style="width:180px;margin:6px">`).join('')}</div><p>${p.description}</p><p>$${p.price}</p><button onclick="openOrder(${p.id})" class="btn primary">Buy Now</button>`;});